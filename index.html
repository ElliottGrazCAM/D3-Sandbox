<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CNCA Financial Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>
    <nav class="sidebar">

        <div class="brand-container">
            <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="#059669" stroke-width="2.5"
                stroke-linecap="round" stroke-linejoin="round">
                <path
                    d="M12 22V15C12 15 20 15 20 9C20 6 18 4 15 4C12 4 12 8 12 8C12 8 12 4 9 4C6 4 4 6 4 9C4 15 12 15 12 15Z">
                </path>
            </svg>
            <h2>CNCA</h2>
        </div>

        <p class="nav-header">FINANCIALS</p>
        <button class="nav-btn" onclick="switchPage('page-general', this)">General Overview</button>

        <p class="nav-header" style="margin-top: 24px;">EVENT TRACKING</p>
        <button class="nav-btn active" onclick="switchPage('page-luncheon', this)">Annual Luncheon</button>
        <button class="nav-btn" onclick="switchPage('page-gala', this)">Winter Gala</button>
        <button class="nav-btn" onclick="switchPage('page-golf', this)">Golf Tournament</button>
    </nav>

    <main class="content">

        <div id="page-general" class="dashboard-page" style="display: none;">
            <h1>General Overview</h1>
            <p>High-level financial health for the Chicago Nature Conservationists Association.</p>
        </div>

        <div id="page-luncheon" class="dashboard-page" style="display: block;">
            <h1>Annual Luncheon Tracker</h1>
            <p>Real-time revenue and expenses synced from QuickBooks.</p>

            <div class="kpi-grid">
                <div class="kpi-card">
                    <h3>Total Registrants</h3>
                    <p id="kpi-registrants" class="kpi-value">--</p>
                </div>
                <div class="kpi-card">
                    <h3>Total Sponsors</h3>
                    <p id="kpi-sponsors" class="kpi-value">--</p>
                </div>
                <div class="kpi-card">
                    <h3>Net Revenue</h3>
                    <p id="kpi-net" class="kpi-value">--</p>
                </div>
            </div>

            <div class="chart-container" style="margin-bottom: 24px;">
                <div id="chart-events">Loading data...</div>
            </div>

            <div class="tables-grid">

                <div class="table-card">
                    <h3>Revenue Ledger</h3>
                    <div class="table-wrapper">
                        <table class="data-table" id="rev-table">
                            <thead>
                                <tr>
                                    <th onclick="sortTable('rev-table', 0)">Date ⇕</th>
                                    <th onclick="sortTable('rev-table', 1)">Contributor ⇕</th>
                                    <th onclick="sortTable('rev-table', 2)">Type ⇕</th>
                                    <th onclick="sortTable('rev-table', 3)">Amount ⇕</th>
                                </tr>
                            </thead>
                            <tbody id="rev-tbody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="table-card">
                    <h3>Expense Ledger</h3>
                    <div class="table-wrapper">
                        <table class="data-table" id="exp-table">
                            <thead>
                                <tr>
                                    <th onclick="sortTable('exp-table', 0)">Date ⇕</th>
                                    <th onclick="sortTable('exp-table', 1)">Vendor ⇕</th>
                                    <th onclick="sortTable('exp-table', 2)">Amount ⇕</th>
                                </tr>
                            </thead>
                            <tbody id="exp-tbody">
                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
        </div>

        <div id="page-gala" class="dashboard-page" style="display: none;">
            <h1>Winter Gala</h1>
            <p>Coming soon...</p>
        </div>
        <div id="page-golf" class="dashboard-page" style="display: none;">
            <h1>Golf Tournament</h1>
            <p>Coming soon...</p>
        </div>

    </main>

    <script>
        function switchPage(pageId, btnElement) {
            // Hide all pages
            document.querySelectorAll('.dashboard-page').forEach(page => {
                page.style.display = 'none';
            });
            // Show the selected page
            document.getElementById(pageId).style.display = 'block';

            // Update button styles
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            btnElement.classList.add('active');
        }
    </script>

    <script src="dashboard.js"></script>
</body>

</html>